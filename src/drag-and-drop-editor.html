<link rel="stylesheet" type="text/css" href="/assets/css/dnd.css">
<div id="dragitemslist">
  <h3>Drag widgets</h3>
  <div>
      <ul id="dragitemslistcontainer">
          <li draggable="true" data-insert-html="<h1>HEADER GOES HERE</h1>"><i class="fa fa-header"></i><p>Header</p></li>
          <li draggable="true" data-insert-html="<img src='http://blogs-images.forbes.com/anthonykosner/files/2014/06/us-browser-share-adobe-index-2014.jpg'>"><i class="fa fa-bar-chart"></i><p>Chart Image</p></li>
          <li draggable="true" data-insert-html='<div class="well login-box"> <form action=""> <legend>Login</legend> <div class="form-group"> <label for="username-email">E-mail or Username</label> <input value="" id="username-email" placeholder="E-mail or Username" type="text" class="form-control"/> </div><div class="form-group"> <label for="password">Password</label> <input id="password" value="" placeholder="Password" type="text" class="form-control"/> </div><div class="form-group text-center"> <button class="btn btn-danger btn-cancel-action">Cancel</button> <input type="submit" class="btn btn-success btn-login-submit" value="Login"/> </div></form> </div>'><i class="fa fa-sign-in"></i><p>Login Form</p></li>
      </ul>
  </div>
</div>
<div id="clientframe-container">
    <iframe onload="insertContent()" id="clientframe" src="http://localhost:12000/assets/client.html" frameborder="0"></iframe>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="/assets/js/dnd.js"></script>
<script>
  var ext;
  function insertContent() {
    var fieldValue = ext.field.getValue();
    if (fieldValue) {
      $('#clientframe').get(0).contentWindow.document.documentElement.innerHTML = fieldValue;
    }
  }

  function appStart(extension) {
    ext = extension;
    extension.field.setFullscreen();
    
  }
  twixlyExtension.init({ nableDefault: ['*'] })
    .then(appStart)
    .catch(function (err) {
      console.log(err);
    });
</script>